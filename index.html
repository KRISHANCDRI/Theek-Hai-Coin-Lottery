<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Theek Hai Coin Lottery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap for nice design -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <!-- Solana web3.js and spl-token -->
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@solana/spl-token@latest/lib/index.iife.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <div class="card shadow-lg p-4 mx-auto" style="max-width: 500px;">
            <div class="text-center mt-3">
                <img src="Theeh_hai_logo.png" alt="Theek Hai Coin Logo" style="width:90px;max-width:30vw;">
            </div>
            <h1 class="text-center mb-3">Theek Hai Coin Lottery</h1>
            <p class="text-center text-secondary mb-4">
                Buy lottery tickets with SOL and win Theek Hai Coin prizes!
            </p>
            <div class="mb-3 text-center">
                <button id="connectWalletBtn" class="btn btn-primary">Connect Wallet</button>
                <div id="walletAddress" class="mt-2"></div>
            </div>
            <div class="mb-3">
                <label for="ticketCount" class="form-label">How many tickets?</label>
                <input type="number" id="ticketCount" class="form-control" placeholder="Number of tickets" min="1" value="1">
            </div>
            <div class="d-grid">
                <button id="buyBtn" class="btn btn-success">Buy Lottery</button>
            </div>
            <div class="alert alert-info mt-3" id="lotteryDetails">
                <b>Entry fee:</b> 1 SOL per player<br>
                <b>Total players per round:</b> 10<br>
                <b>Reward categories:</b>
                <ul>
                    <li>1 player: 3×</li>
                    <li>3 players: 1.5×</li>
                    <li>5 players: 0.5×</li>
                    <li>1 player: 0×</li>
                </ul>
                <b>Lottery Price:</b> $10 per ticket<br>
            </div>
            <div id="currentLotteryStatus" class="mt-3"></div>
            <div id="userHistory" class="mt-4"></div>
            <div id="message" class="mt-3 text-center"></div>
        </div>
    </div>

    <!-- ============ FIREBASE SDK, paste your config here =============== -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script>
      // ================================
      // TODO: UPDATE THIS CONFIG BELOW!!
      // ================================
      const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_PROJECT_ID.appspot.com",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>
    <!-- =============================== -->

    <!-- Your wallet.js must load after web3.js and spl-token and Firebase -->
    <script src="wallet.js"></script>
</body>
</html>
